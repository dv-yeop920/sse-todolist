const { inline } = require('../../utils/console')

/**
 * Evaluate an expression in meta.json in the context of
 * prompt answers data.
 */

module.exports = (exp, data) => {
  const fn = new Function('data', 'with (data) { return ' + exp + '}')
  try {
    return fn(data)
  } catch (e) {
    inline.error(`Error when evaluating filter condition: ${exp}`)
  }
}
